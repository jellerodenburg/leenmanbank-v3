<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Voeg een toezichthouder voor uw rekening toe</title>
    <!-- Google Font: Source Sans Pro -->
    <link rel="stylesheet"
          href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="../../dependencies/all.min.css">
    <!-- DataTables -->
    <link rel="stylesheet" href="../../dependencies/datatables-bs4/css/dataTables.bootstrap4.min.css">
    <link rel="stylesheet" href="../../dependencies/datatables-responsive/css/responsive.bootstrap4.min.css">
    <link rel="stylesheet" href="../../dependencies/datatables-buttons/css/buttons.bootstrap4.min.css">
    <!-- Theme style -->
    <link rel="stylesheet" href="../../dependencies/adminlte.min.css">
    <link rel="stylesheet" href="../../css/main.css">

    <!-- Script -->
    <script rel="script" src="../../javascript/domManipulationMethods.js"></script>
    <script rel="script" src="../../javascript/regularExpressionChecks.js"></script>
    <script rel="script" src="../../javascript/openAccountScript.js"></script>
    <script rel="script" src="../../javascript/authorizeThirdPartyForAccountScript.js"></script>
    <!-- Own CSS -->
    <link rel="stylesheet" href="../../css/main.css">
</head>

<body class="hold-transition layout-top-nav" onload="setIBAN()">
<div class="wrapper">

    <!-- Navbar -->
    <nav class="main-header navbar navbar-expand-md navbar-light navbar-white">
        <div class="container">
            <a href="#" class="navbar-brand">
                <img src="../../images/cmc_logo.png" alt="CMC Logo" class="brand-image">
                <span class="brand-text font-weight-bold cmc-blauw">LeenmanBank</span>
            </a>
            <!-- Navbar toggler -->
            <button class="navbar-toggler order-1" type="button" data-toggle="collapse"
                    data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false"
                    aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse order-3" id="navbarCollapse">
                <!-- Left navbar links -->
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a href="#" class="nav-link">Rekeningoverzicht</a>
                    </li>
                </ul>
            </div>
            <!-- Right navbar links -->
            <ul class="order-1 order-md-3 navbar-nav navbar-no-expand ml-auto">
                <li class="nav-item">
                    <a href="../../html/login.html" class="nav-link">Login</a>
                </li>
            </ul>
        </div>
    </nav>
    <!-- /.navbar -->


    <!-- Content Wrapper. Contains page content -->
    <div class="content-wrapper">

        <!-- PAGE HEADER (and active client name indicator on the right) -->
        <div class="content-header">
            <div class="container">
                <div class="row mb-2">
                    <div class="col-sm-6">
                        <h1 class="m-0">Machtiging voor IBAN</h1>
                    </div><!-- /.col -->
                    <div class="col-sm-6">
                        <h5 id="active-client-name-breadcrumb" class="float-right"></h5>
                    </div><!-- /.col -->
                </div><!-- /.row -->
            </div><!-- /.container-fluid -->
        </div>
        <!-- /.content-header -->


        <!-- MAIN CONTENT -->
        <div class="content">
            <div class="container">

                <form>
                    <label for="username">Voer de gebruikersnaam in van de persoon die u wilt machtigen voor deze rekening: </label>
                    <input id="username" name="username" type="text" onfocus="showElement('usernameRequirements')"
                           onblur="hideElement('usernameRequirements')" onkeyup="updateUsernameRequirementsOnInput('username')"
                           minlength="3" required>
                    <div>
                        <ul id="usernameRequirements" class="inputRequirements" style="display: none">
                            <li id="userReq3Chars">Een gebruikersnaam bestaat uit minimaal 3 tekens</li>
                            <li id="userReqOnlyNumbersAndLetters">Alleen letters, cijfers, underscore en koppelteken zijn
                                toegestaan
                            </li>
                        </ul>
                    </div>
                    <button type="button" onclick="getAccountHolderDetails()">Controleer rekeninghouder</button>
                    <br>

                    <label id="clientName" style="display: none">Deze gebruiker bestaat niet</label>
                    <p>Indien deze informatie niet klopt, voer de juiste gebruikersnaam in en klik op reset.</p>

                    <label for="code">Voer een pincode in die de gemachtige persoon kan gebruiken om de machtiging te activeren: </label>
                    <input id="code" name="code" type="number" onfocus="showElement('codeRequirements')" onblur="hideElement('codeRequirements')" onkeyup="checkCodeRequirements()" required>
                    <div>
                        <ul class="inputRequirements" id="codeRequirements" style="display: none">
                            <li id="codeReq5Chars">De code moet 5 getallen bevatten</li>
                        </ul>
                    </div>
                    <br>

                    <button type="button" onclick="sendAuthorization()">Machtig deze persoon</button>

                    <p id="infoAfterSubmit" style="display: none">What to do when authorization is processed?</p>
                    <br><br>
                    <button type="button"><a href="../dashboard/dashboardClient.html" id="completeFormButton" onclick="clearLocalStorage()">Reset</a></button>

                </form>

            </div>
        </div>
    </div>

</div>
<!-- ./wrapper -->

</body>
</html>